{
  "permissions": {
    "allow": [
      "Bash(npm install:*)",
      "WebSearch",
      "Bash(npx tsc:*)",
      "Bash(node -e:*)",
      "Bash(dir /s /b:*)",
      "Bash(find:*)",
      "Bash(git -C \"C:\\\\Users\\\\User\\\\Desktop\\\\Pocket-Dev\" log --oneline -20)",
      "Bash(npx next build:*)",
      "WebFetch(domain:replicate.com)",
      "WebFetch(domain:github.com)",
      "Bash(GEMINI_API_KEY=\"AIzaSyA1E-UDQkENbGyy17oSS_5y-aNyNqhyix8\" node -e \"\nconst { GoogleGenerativeAI } = require\\(''@google/generative-ai''\\);\nconst client = new GoogleGenerativeAI\\(process.env.GEMINI_API_KEY\\);\nconst model = client.getGenerativeModel\\({ model: ''gemini-3-flash-preview'', generationConfig: { maxOutputTokens: 8000, temperature: 0.7 } }\\);\n\n// Simulate the real system prompt \\(abbreviated\\) + user prompt\nconst prompt = ''CRITICAL IMAGE RULES: Every image MUST use src=\"\"REPLICATE_IMG_1\"\", src=\"\"REPLICATE_IMG_2\"\", etc. NEVER use any other image source. Use MAXIMUM 6 images numbered REPLICATE_IMG_1 through REPLICATE_IMG_6. Every img tag must look like: <img src=\"\"REPLICATE_IMG_1\"\" alt=\"\"description here\"\">. Create a simple coffee shop landing page with a hero section containing 1 image and 2 product images. Return ONLY raw HTML starting with <!DOCTYPE html>. Keep it short, just the hero section with images.'';\n\nmodel.generateContent\\({ contents: [{ role: ''user'', parts: [{ text: prompt }] }] }\\).then\\(r => {\n  const text = r.response.text\\(\\);\n  const matches = text.match\\(/REPLICATE_IMG_\\\\d+/g\\);\n  console.log\\(''REPLICATE_IMG found:'', matches || ''NONE''\\);\n  const imgTags = text.match\\(/<img[^>]*>/gi\\);\n  console.log\\(''img tags found:'', imgTags ? imgTags.length : 0\\);\n  if \\(imgTags\\) {\n    imgTags.forEach\\(\\(tag, i\\) => {\n      const src = tag.match\\(/src=[\"\"'']\\([^\"\"'']*\\)[\"\"'']/\\);\n      console.log\\(''  img '' + \\(i+1\\) + '' src:'', src ? src[1].substring\\(0,80\\) : ''no src''\\);\n    }\\);\n  }\n  // Show first 500 chars \n  console.log\\(''\\\\nFirst 500 chars of output:''\\);\n  console.log\\(text.substring\\(0, 500\\)\\);\n}\\).catch\\(e => console.error\\(''ERR:'', e.message\\)\\);\n\")",
      "Bash(GEMINI_API_KEY=\"AIzaSyA1E-UDQkENbGyy17oSS_5y-aNyNqhyix8\" node -e \"\nconst { GoogleGenerativeAI } = require\\(''@google/generative-ai''\\);\nconst fs = require\\(''fs''\\);\n\n// Read the actual system prompt from the source\nconst src = fs.readFileSync\\(''./lib/website-generator.ts'', ''utf8''\\);\nconst sysMatch = src.match\\(/const SYSTEM_PROMPT = \\\\x60\\([\\\\s\\\\S]*?\\)\\\\x60;/\\);\nif \\(!sysMatch\\) { console.log\\(''Could not extract SYSTEM_PROMPT''\\); process.exit\\(1\\); }\nconst SYSTEM_PROMPT = sysMatch[1];\nconsole.log\\(''System prompt length:'', SYSTEM_PROMPT.length, ''chars''\\);\n\n// Check how many times REPLICATE_IMG is mentioned in the system prompt\nconst repMatches = SYSTEM_PROMPT.match\\(/REPLICATE_IMG/g\\);\nconsole.log\\(''REPLICATE_IMG mentions in system prompt:'', repMatches ? repMatches.length : 0\\);\n\nconst client = new GoogleGenerativeAI\\(process.env.GEMINI_API_KEY\\);\nconst userPrompt = ''Create a simple coffee shop website'';\nconst combinedPrompt = SYSTEM_PROMPT + ''\\\\n\\\\nUser Request: '' + userPrompt;\nconsole.log\\(''Combined prompt length:'', combinedPrompt.length, ''chars''\\);\nconsole.log\\(''Generating...''\\);\n\nconst model = client.getGenerativeModel\\({ model: ''gemini-3-flash-preview'', generationConfig: { maxOutputTokens: 16000, temperature: 0.7 } }\\);\nmodel.generateContent\\({ contents: [{ role: ''user'', parts: [{ text: combinedPrompt }] }] }\\).then\\(r => {\n  const text = r.response.text\\(\\);\n  console.log\\(''Output length:'', text.length, ''chars''\\);\n  const matches = text.match\\(/REPLICATE_IMG_\\\\d+/g\\);\n  console.log\\(''REPLICATE_IMG found:'', matches || ''NONE''\\);\n  const imgTags = text.match\\(/<img[^>]*>/gi\\);\n  console.log\\(''img tags found:'', imgTags ? imgTags.length : 0\\);\n  if \\(imgTags\\) {\n    imgTags.forEach\\(\\(tag, i\\) => {\n      const src = tag.match\\(/src=[\"\"'']\\([^\"\"'']*\\)[\"\"'']/\\);\n      console.log\\(''  img '' + \\(i+1\\) + '' src:'', src ? src[1].substring\\(0,80\\) : ''no src''\\);\n    }\\);\n  }\n}\\).catch\\(e => console.error\\(''ERR:'', e.message\\)\\);\n\")",
      "Bash(GEMINI_API_KEY=\"AIzaSyA1E-UDQkENbGyy17oSS_5y-aNyNqhyix8\" node test-replicate.mjs:*)",
      "WebFetch(domain:e2b.dev)",
      "WebFetch(domain:www.npmjs.com)",
      "Bash(git log:*)",
      "Bash(npx tsx test-inngest.ts)",
      "Bash(npx prisma db push:*)",
      "Bash(npx prisma generate:*)",
      "Bash(npm run build:*)",
      "Bash(npm test:*)",
      "Bash(npx tsx:*)",
      "Bash(ls:*)",
      "Bash(npx prisma migrate deploy:*)",
      "Bash(npx dotenv:*)"
    ]
  }
}
